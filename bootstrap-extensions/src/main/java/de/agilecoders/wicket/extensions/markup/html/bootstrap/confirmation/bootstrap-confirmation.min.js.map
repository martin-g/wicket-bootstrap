{"version":3,"sources":["../rollupPluginBabelHelpers","../src/popover.js","../src/confirmation.js"],"names":["_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_objectSpread","arguments","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","obj","value","fn","popover","$","Constructor","VERSION","split","shift","Error","activeConfirmation","Popover","NAME","DATA_KEY","EVENT_KEY","JQUERY_NO_CONFLICT","BTN_CLASS_DEFAULT","DefaultType","singleton","popout","copyAttributes","onConfirm","onCancel","btnOkClass","btnOkLabel","btnOkIconClass","btnOkIconContent","btnCancelClass","btnCancelLabel","btnCancelIconClass","btnCancelIconContent","buttons","Default","_attributes","_selector","placement","title","trigger","confirmationEvent","undefined","content","noop","template","ClassName","Selector","Keymap","13","27","39","40","Event","HIDE","HIDDEN","SHOW","SHOWN","INSERTED","CLICK","FOCUSIN","FOCUSOUT","MOUSEENTER","MOUSELEAVE","CONFIRMED","CANCELED","KEYUP","Confirmation","subClass","superClass","protoProps","staticProps","element","config","_this","_Popover","call","this","rootSelector","_isDelegate","selector","_copyAttributes","_setConfirmationListeners","prototype","create","constructor","__proto__","isWithContent","setContent","$tip","getTipElement","_getContent","setElementContent","find","getTitle","toggle","_setCustomButtons","_setStandardButtons","removeClass","_setupKeyupEvent","dispose","_cleanKeyupEvent","hide","callback","_this2","attr","self","on","e","ack","preventDefault","stopPropagation","stopImmediatePropagation","not","data","confirmation","eventBody","uid","id","getUID","is","off","btnApply","addClass","html","prepend","text","one","btnDismiss","$group","empty","button","btn","class","label","iconClass","iconContent","onClick","cancel","append","window","_onKeyup","bind","event","tip","$next","keyCode","which","$active","next","children","first","focus","prev","last","prefix","Math","random","document","getElementById","_jQueryInterface","each","_config","test","TypeError","noConflict"],"mappings":"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","sourcesContent":["export { _createClass as createClass, _defineProperty as defineProperty, _objectSpread as objectSpread, _inheritsLoose as inheritsLoose, _assertThisInitialized as assertThisInitialized };\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import $ from 'jquery';\nimport 'bootstrap';\n\nif (typeof $.fn.popover === 'undefined' || $.fn.popover.Constructor.VERSION.split('.').shift() !== '4') {\n  throw new Error('Bootstrap Confirmation 4 requires Bootstrap Popover 4');\n}\n\nconst Popover = $.fn.popover.Constructor;\n\nexport default Popover;\n","import $ from 'jquery';\nimport Popover from 'bootstrap/js/src/popover';\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\nconst NAME = 'confirmation';\nconst VERSION = '4.0.2';\nconst DATA_KEY = `bs.${NAME}`;\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst JQUERY_NO_CONFLICT = $.fn[NAME];\nconst BTN_CLASS_DEFAULT = 'btn btn-sm h-100 d-flex align-items-center';\n\nconst DefaultType = {\n  ...Popover.DefaultType,\n  singleton           : 'boolean',\n  popout              : 'boolean',\n  copyAttributes      : '(string|array)',\n  onConfirm           : 'function',\n  onCancel            : 'function',\n  btnOkClass          : 'string',\n  btnOkLabel          : 'string',\n  btnOkIconClass      : 'string',\n  btnOkIconContent    : 'string',\n  btnCancelClass      : 'string',\n  btnCancelLabel      : 'string',\n  btnCancelIconClass  : 'string',\n  btnCancelIconContent: 'string',\n  buttons             : 'array',\n};\n\nconst Default = {\n  ...Popover.Default,\n  _attributes         : {},\n  _selector           : null,\n  placement           : 'top',\n  title               : 'Are you sure?',\n  trigger             : 'click',\n  confirmationEvent   : undefined,\n  content             : '',\n  singleton           : false,\n  popout              : false,\n  copyAttributes      : 'href target',\n  onConfirm           : $.noop,\n  onCancel            : $.noop,\n  btnOkClass          : 'btn-primary',\n  btnOkLabel          : 'Yes',\n  btnOkIconClass      : '',\n  btnOkIconContent    : '',\n  btnCancelClass      : 'btn-secondary',\n  btnCancelLabel      : 'No',\n  btnCancelIconClass  : '',\n  btnCancelIconContent: '',\n  buttons             : [],\n  // @formatter:off\n  // href=\"#\" allows the buttons to be focused\n  template            : `\n<div class=\"popover confirmation\">\n  <div class=\"arrow\"></div>\n  <h3 class=\"popover-header\"></h3>\n  <div class=\"popover-body\">\n    <p class=\"confirmation-content\"></p>\n    <div class=\"confirmation-buttons text-center\">\n      <div class=\"btn-group\">\n        <a href=\"#\" class=\"${BTN_CLASS_DEFAULT}\" data-apply=\"confirmation\"></a>\n        <a href=\"#\" class=\"${BTN_CLASS_DEFAULT}\" data-dismiss=\"confirmation\"></a>\n      </div>\n    </div>\n  </div>\n</div>`,\n  // @formatter:on\n};\n\nconst ClassName = {\n  FADE: 'fade',\n  SHOW: 'show',\n};\n\nconst Selector = {\n  TITLE      : '.popover-header',\n  CONTENT    : '.confirmation-content',\n  BUTTONS    : '.confirmation-buttons .btn-group',\n  BTN_APPLY  : '[data-apply=confirmation]',\n  BTN_DISMISS: '[data-dismiss=confirmation]',\n};\n\nconst Keymap = {\n  13: 'Enter',\n  27: 'Escape',\n  39: 'ArrowRight',\n  40: 'ArrowDown',\n};\n\nconst Event = {\n  HIDE      : `hide${EVENT_KEY}`,\n  HIDDEN    : `hidden${EVENT_KEY}`,\n  SHOW      : `show${EVENT_KEY}`,\n  SHOWN     : `shown${EVENT_KEY}`,\n  INSERTED  : `inserted${EVENT_KEY}`,\n  CLICK     : `click${EVENT_KEY}`,\n  FOCUSIN   : `focusin${EVENT_KEY}`,\n  FOCUSOUT  : `focusout${EVENT_KEY}`,\n  MOUSEENTER: `mouseenter${EVENT_KEY}`,\n  MOUSELEAVE: `mouseleave${EVENT_KEY}`,\n  CONFIRMED : `confirmed${EVENT_KEY}`,\n  CANCELED  : `canceled${EVENT_KEY}`,\n  KEYUP     : `keyup${EVENT_KEY}`,\n};\n\n/**\n * ------------------------------------------------------------------------\n * Class Definition\n * ------------------------------------------------------------------------\n */\n\n// keep track of the last openned confirmation for keyboard navigation\nlet activeConfirmation;\n\nclass Confirmation extends Popover {\n  // Getters\n\n  static get VERSION() {\n    return VERSION;\n  }\n\n  static get Default() {\n    return Default;\n  }\n\n  static get NAME() {\n    return NAME;\n  }\n\n  static get DATA_KEY() {\n    return DATA_KEY;\n  }\n\n  static get Event() {\n    return Event;\n  }\n\n  static get EVENT_KEY() {\n    return EVENT_KEY;\n  }\n\n  static get DefaultType() {\n    return DefaultType;\n  }\n\n  // Constructor\n\n  constructor(element, config) {\n    super(element, config);\n\n    if ((this.config.popout || this.config.singleton) && !this.config.rootSelector) {\n      throw new Error('The rootSelector option is required to use popout and singleton features since jQuery 3.');\n    }\n\n    // keep trace of selectors\n    this._isDelegate = false;\n\n    if (config.selector) { // container of buttons\n      config._selector = `${config.rootSelector} ${config.selector}`;\n      this.config._selector = config._selector;\n    }\n    else if (config._selector) { // children of container\n      this.config._selector = config._selector;\n      this._isDelegate = true;\n    }\n    else { // standalone\n      this.config._selector = config.rootSelector;\n    }\n\n    if (this.config.confirmationEvent === undefined) {\n      this.config.confirmationEvent = this.config.trigger;\n    }\n\n    if (!this.config.selector) {\n      this._copyAttributes();\n    }\n\n    this._setConfirmationListeners();\n  }\n\n  // Overrides\n\n  isWithContent() {\n    return true;\n  }\n\n  setContent() {\n    const $tip = $(this.getTipElement());\n    let content = this._getContent();\n\n    if (typeof content === 'function') {\n      content = content.call(this.element);\n    }\n\n    this.setElementContent($tip.find(Selector.TITLE), this.getTitle());\n\n    $tip.find(Selector.CONTENT).toggle(!!content);\n    if (content) {\n      this.setElementContent($tip.find(Selector.CONTENT), content);\n    }\n\n    if (this.config.buttons.length > 0) {\n      this._setCustomButtons($tip);\n    }\n    else {\n      this._setStandardButtons($tip);\n    }\n\n    $tip.removeClass(`${ClassName.FADE} ${ClassName.SHOW}`);\n\n    this._setupKeyupEvent();\n  }\n\n  dispose() {\n    this._cleanKeyupEvent();\n    super.dispose();\n  }\n\n  hide(callback) {\n    this._cleanKeyupEvent();\n    super.hide(callback);\n  }\n\n  // Private\n\n  /**\n   * Copy the value of `copyAttributes` on the config object\n   * @private\n   */\n  _copyAttributes() {\n    this.config._attributes = {};\n    if (this.config.copyAttributes) {\n      if (typeof this.config.copyAttributes === 'string') {\n        this.config.copyAttributes = this.config.copyAttributes.split(' ');\n      }\n    }\n    else {\n      this.config.copyAttributes = [];\n    }\n\n    this.config.copyAttributes.forEach((attr) => {\n      this.config._attributes[attr] = $(this.element).attr(attr);\n    });\n  }\n\n  /**\n   * Custom event listeners for popouts and singletons\n   * @private\n   */\n  _setConfirmationListeners() {\n    const self = this;\n\n    if (!this.config.selector) {\n      // cancel original event\n      $(this.element).on(this.config.trigger, (e, ack) => {\n        if (!ack) {\n          e.preventDefault();\n          e.stopPropagation();\n          e.stopImmediatePropagation();\n        }\n      });\n\n      // manage singleton\n      $(this.element).on(Event.SHOWN, function () {\n        if (self.config.singleton) {\n          // close all other popover already initialized\n          $(self.config._selector).not($(this)).filter(function () {\n            return $(this).data(DATA_KEY) !== undefined;\n          }).confirmation('hide');\n        }\n      });\n    }\n    else {\n      // cancel original event\n      $(this.element).on(this.config.trigger, this.config.selector, (e, ack) => {\n        if (!ack) {\n          e.preventDefault();\n          e.stopPropagation();\n          e.stopImmediatePropagation();\n        }\n      });\n    }\n\n    if (!this._isDelegate) {\n      // manage popout\n      this.eventBody = false;\n      this.uid = this.element.id || Confirmation.getUID(`${NAME}_group`);\n\n      $(this.element).on(Event.SHOWN, () => {\n        if (self.config.popout && !self.eventBody) {\n          self.eventBody = $('body').on(`${Event.CLICK}.${self.uid}`, (e) => {\n            if ($(self.config._selector).is(e.target)) {\n              return;\n            }\n            // close all popover already initialized\n            $(self.config._selector).filter(function () {\n              return $(this).data(DATA_KEY) !== undefined;\n            }).confirmation('hide');\n\n            $('body').off(`${Event.CLICK}.${self.uid}`);\n            self.eventBody = false;\n          });\n        }\n      });\n    }\n  }\n\n  /**\n   * Init the standard ok/cancel buttons\n   * @param $tip\n   * @private\n   */\n  _setStandardButtons($tip) {\n    const self = this;\n\n    const btnApply = $tip.find(Selector.BTN_APPLY)\n      .addClass(this.config.btnOkClass)\n      .html(this.config.btnOkLabel)\n      .attr(this.config._attributes);\n\n    if (this.config.btnOkIconClass || this.config.btnOkIconContent) {\n      btnApply.prepend($('<i></i>')\n        .addClass(this.config.btnOkIconClass || '')\n        .text(this.config.btnOkIconContent || ''));\n    }\n\n    btnApply.off('click')\n      .one('click', function (e) {\n        if ($(this).attr('href') === '#') {\n          e.preventDefault();\n        }\n\n        self.config.onConfirm.call(self.element);\n        $(self.element).trigger(Event.CONFIRMED);\n        $(self.element).trigger(self.config.confirmationEvent, [true]);\n\n        self.hide();\n      });\n\n    const btnDismiss = $tip.find(Selector.BTN_DISMISS)\n      .addClass(this.config.btnCancelClass)\n      .html(this.config.btnCancelLabel);\n\n    if (this.config.btnCancelIconClass || this.config.btnCancelIconContent) {\n      btnDismiss.prepend($('<i></i>')\n        .addClass(this.config.btnCancelIconClass || '')\n        .text(this.config.btnCancelIconContent || ''));\n    }\n\n    btnDismiss.off('click')\n      .one('click', (e) => {\n        e.preventDefault();\n\n        self.config.onCancel.call(self.element);\n        $(self.element).trigger(Event.CANCELED);\n\n        self.hide();\n      });\n  }\n\n  /**\n   * Init the custom buttons\n   * @param $tip\n   * @private\n   */\n  _setCustomButtons($tip) {\n    const self = this;\n    const $group = $tip.find(Selector.BUTTONS).empty();\n\n    this.config.buttons.forEach((button) => {\n      const btn = $('<a href=\"#\"></a>')\n        .addClass(BTN_CLASS_DEFAULT)\n        .addClass(button.class || 'btn btn-secondary')\n        .html(button.label || '')\n        .attr(button.attr || {});\n\n      if (button.iconClass || button.iconContent) {\n        btn.prepend($('<i></i>')\n          .addClass(button.iconClass || '')\n          .text(button.iconContent || ''));\n      }\n\n      btn.one('click', function (e) {\n        if ($(this).attr('href') === '#') {\n          e.preventDefault();\n        }\n\n        if (button.onClick) {\n          button.onClick.call($(self.element));\n        }\n\n        if (button.cancel) {\n          self.config.onCancel.call(self.element, button.value);\n          $(self.element).trigger(Event.CANCELED, [button.value]);\n        }\n        else {\n          self.config.onConfirm.call(self.element, button.value);\n          $(self.element).trigger(Event.CONFIRMED, [button.value]);\n        }\n\n        self.hide();\n      });\n\n      $group.append(btn);\n    });\n  }\n\n  /**\n   * Install the keyboatd event handler\n   * @private\n   */\n  _setupKeyupEvent() {\n    activeConfirmation = this;\n    $(window)\n      .off(Event.KEYUP)\n      .on(Event.KEYUP, this._onKeyup.bind(this));\n  }\n\n  /**\n   * Remove the keyboard event handler\n   * @private\n   */\n  _cleanKeyupEvent() {\n    if (activeConfirmation === this) {\n      activeConfirmation = undefined;\n      $(window).off(Event.KEYUP);\n    }\n  }\n\n  /**\n   * Event handler for keyboard navigation\n   * @param event\n   * @private\n   */\n  _onKeyup(event) {\n    if (!this.tip) {\n      this._cleanKeyupEvent();\n      return;\n    }\n\n    const $tip = $(this.getTipElement());\n    const key = event.key || Keymap[event.keyCode || event.which];\n\n    const $group = $tip.find(Selector.BUTTONS);\n    const $active = $group.find('.active');\n    let $next;\n\n    switch (key) {\n      case 'Escape':\n        this.hide();\n        break;\n\n      case 'ArrowRight':\n        if ($active.length && $active.next().length) {\n          $next = $active.next();\n        }\n        else {\n          $next = $group.children().first();\n        }\n        $active.removeClass('active');\n        $next.addClass('active').focus();\n        break;\n\n      case 'ArrowLeft':\n        if ($active.length && $active.prev().length) {\n          $next = $active.prev();\n        }\n        else {\n          $next = $group.children().last();\n        }\n        $active.removeClass('active');\n        $next.addClass('active').focus();\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  // Static\n\n  /**\n   * Generates an uui, copied from Bootrap's utils\n   * @param {string} prefix\n   * @returns {string}\n   */\n  static getUID(prefix) {\n    let uid = prefix;\n    do {\n      // eslint-disable-next-line no-bitwise\n      uid += ~~(Math.random() * 1000000); // \"~~\" acts like a faster Math.floor() here\n    } while (document.getElementById(uid));\n    return uid;\n  }\n\n  static _jQueryInterface(config) {\n    return this.each(function () {\n      let data = $(this).data(DATA_KEY);\n\n      const _config = typeof config === 'object' ? config : {};\n      _config.rootSelector = $(this).selector || _config.rootSelector; // this.selector removed in jQuery > 3\n\n      if (!data && /destroy|hide/.test(config)) {\n        return;\n      }\n\n      if (!data) {\n        data = new Confirmation(this, _config);\n        $(this).data(DATA_KEY, data);\n      }\n\n      if (typeof config === 'string') {\n        if (typeof data[config] === 'undefined') {\n          throw new TypeError(`No method named \"${config}\"`);\n        }\n        data[config]();\n      }\n    });\n  }\n}\n\n/**\n * ------------------------------------------------------------------------\n * jQuery\n * ------------------------------------------------------------------------\n */\n\n$.fn[NAME] = Confirmation._jQueryInterface;\n$.fn[NAME].Constructor = Confirmation;\n$.fn[NAME].noConflict = function () {\n  $.fn[NAME] = JQUERY_NO_CONFLICT;\n  return Confirmation._jQueryInterface;\n};\n\nexport default Confirmation;\n"]}